package com.decode;

import java.io.UnsupportedEncodingException;
import java.net.URLDecoder;

public class Main {
    public static void main(String[] args) throws UnsupportedEncodingException {
//        decode();

        solrQueryPrittyPrint();
    }

    private static void solrQueryPrittyPrint() {
        String s = "yq=_query_:\"\\{\\!multiMaxScore\\+tie%3D0.0\\}\\(\\(entitlements_text_ru_mv\\:Комфорт\\^30.0\\)\\+OR\\+\\(code_string\\:Комфорт\\^150.0\\)\\+OR\\+\\(keywords_text_ru\\:Комфорт\\^55.0\\)\\+OR\\+\\(manufacturerName_text\\:Комфорт\\^40.0\\)\\+OR\\+\\(categoryName_text_ru_mv\\:Комфорт\\^35.0\\)\\+OR\\+\\(ean_string\\:Комфорт\\^100.0\\)\\+OR\\+\\(plpKillerFeature_ru_string\\:Комфорт\\^45.0\\)\\+OR\\+\\(productBubblesDescription_ru_string_mv\\:Комфорт\\^40.0\\)\\+OR\\+\\(pdpKillerFeature_ru_string\\:Комфорт\\^50.0\\)\\+OR\\+\\(name_text_ru\\:Комфорт\\^60.0\\)\\+OR\\+\\(usageCharges_text_ru_mv\\:Комфорт\\^25.0\\)\\)\\+OR\\+\\(\\(entitlements_text_ru_mv\\:2\\^30.0\\)\\+OR\\+\\(code_string\\:2\\^150.0\\)\\+OR\\+\\(keywords_text_ru\\:2\\^55.0\\)\\+OR\\+\\(manufacturerName_text\\:2\\^40.0\\)\\+OR\\+\\(categoryName_text_ru_mv\\:2\\^35.0\\)\\+OR\\+\\(ean_string\\:2\\^100.0\\)\\+OR\\+\\(plpKillerFeature_ru_string\\:2\\^45.0\\)\\+OR\\+\\(productBubblesDescription_ru_string_mv\\:2\\^40.0\\)\\+OR\\+\\(pdpKillerFeature_ru_string\\:2\\^50.0\\)\\+OR\\+\\(name_text_ru\\:2\\^60.0\\)\\+OR\\+\\(usageCharges_text_ru_mv\\:2\\^25.0\\)\\)\\+OR\\+\\(\\(keywords_text_ru\\:Комфорт\\~\\^20.0\\)\\+OR\\+\\(manufacturerName_text\\:Комфорт\\~\\^20.0\\)\\+OR\\+\\(plpKillerFeature_ru_string\\:Комфорт\\~\\^10.0\\)\\+OR\\+\\(productBubblesDescription_ru_string_mv\\:Комфорт\\~\\^5.0\\)\\+OR\\+\\(pdpKillerFeature_ru_string\\:Комфорт\\~\\^15.0\\)\\+OR\\+\\(name_text_ru\\:Комфорт\\~\\^25.0\\)\\)\\+OR\\+\\(\\(keywords_text_ru\\:2\\~\\^20.0\\)\\+OR\\+\\(manufacturerName_text\\:2\\~\\^20.0\\)\\+OR\\+\\(plpKillerFeature_ru_string\\:2\\~\\^10.0\\)\\+OR\\+\\(productBubblesDescription_ru_string_mv\\:2\\~\\^5.0\\)\\+OR\\+\\(pdpKillerFeature_ru_string\\:2\\~\\^15.0\\)\\+OR\\+\\(name_text_ru\\:2\\~\\^25.0\\)\\)\\+OR\\+\\(\\(code_string\\:Комфорт\\*\\^45.0\\)\\+OR\\+\\(ean_string\\:Комфорт\\*\\^50.0\\)\\+OR\\+\\(name_text_ru\\:Комфорт\\*\\^50.0\\)\\)\\+OR\\+\\(\\(entitlements_text_ru_mv\\:\\\"Комфорт\\\\\\+2\\\"\\^45.0\\)\\+OR\\+\\(keywords_text_ru\\:\\\"Комфорт\\\\\\+2\\\"\\^90.0\\)\\+OR\\+\\(manufacturerName_text\\:\\\"Комфорт\\\\\\+2\\\"\\^80.0\\)\\+OR\\+\\(categoryName_text_ru_mv\\:\\\"Комфорт\\\\\\+2\\\"\\^50.0\\)\\+OR\\+\\(plpKillerFeature_ru_string\\:\\\"Комфорт\\\\\\+2\\\"\\^70.0\\)\\+OR\\+\\(productBubblesDescription_ru_string_mv\\:\\\"Комфорт\\\\\\+2\\\"\\^60.0\\)\\+OR\\+\\(pdpKillerFeature_ru_string\\:\\\"Комфорт\\\\\\+2\\\"\\^80.0\\)\\+OR\\+\\(name_text_ru\\:\\\"Комфорт\\\\\\+2\\\"\\^100.0\\)\\+OR\\+\\(usageCharges_text_ru_mv\\:\\\"Комфорт\\\\\\+2\\\"\\^40.0\\)\\)\"&yab=sum(query({!v%3D'productGroup_ru_string\\:Смартфон^%3D20.0'},0))&q={!boost}(%2B{!lucene+v%3D$yq}+{!func+v%3D$yab})&fq=b2c_boolean:true&fq=rootCat_string:Смартфон&fq=isEnd_boolean:true&fq=(catalogId:\"velcomProductCatalog\"+AND+catalogVersion:\"Online\")&sort=score+desc,marketingWeight_int+desc,inStockFlag_boolean+desc,score+desc&start=0&rows=12&facet.field=rootCat_string&facet.field=categoryPath_string_mv&facet.field=allCategories_string_mv&facet.field=recurringPrices_byn_string&facet.field=bubbles_string_mv&facet.field=category_string_mv&facet.field=brand_string_mv&facet.field=devicePrices_byn_string&facet=true&facet.sort=count&facet.mincount=1&facet.limit=50&fl=score,*&spellcheck=true&spellcheck.q=Комфорт+2&spellcheck.dictionary=ru&spellcheck.collate=true";
        final String replaced = s.replace("&", "&\r\n").replace(":", ":\r\n").replace("OR", "OR\r\n").replace("AND", "AND\r\n");
        System.out.println(replaced);
    }

    private static void decode() throws UnsupportedEncodingException {
        String stringToDecode = "yq=_query_:\"\\{\\!multiMaxScore\\+tie%3D0.0\\}\\(\\(entitlements_text_ru_mv\\:Комфорт\\^30.0\\)\\+OR\\+\\(code_string\\:Комфорт\\^150.0\\)\\+OR\\+\\(keywords_text_ru\\:Комфорт\\^55.0\\)\\+OR\\+\\(manufacturerName_text\\:Комфорт\\^40.0\\)\\+OR\\+\\(categoryName_text_ru_mv\\:Комфорт\\^35.0\\)\\+OR\\+\\(ean_string\\:Комфорт\\^100.0\\)\\+OR\\+\\(plpKillerFeature_ru_string\\:Комфорт\\^45.0\\)\\+OR\\+\\(productBubblesDescription_ru_string_mv\\:Комфорт\\^40.0\\)\\+OR\\+\\(pdpKillerFeature_ru_string\\:Комфорт\\^50.0\\)\\+OR\\+\\(name_text_ru\\:Комфорт\\^60.0\\)\\+OR\\+\\(usageCharges_text_ru_mv\\:Комфорт\\^25.0\\)\\)\\+OR\\+\\(\\(keywords_text_ru\\:Комфорт\\~\\^20.0\\)\\+OR\\+\\(manufacturerName_text\\:Комфорт\\~\\^20.0\\)\\+OR\\+\\(plpKillerFeature_ru_string\\:Комфорт\\~\\^10.0\\)\\+OR\\+\\(productBubblesDescription_ru_string_mv\\:Комфорт\\~\\^5.0\\)\\+OR\\+\\(pdpKillerFeature_ru_string\\:Комфорт\\~\\^15.0\\)\\+OR\\+\\(name_text_ru\\:Комфорт\\~\\^25.0\\)\\)\\+OR\\+\\(\\(code_string\\:Комфорт\\*\\^45.0\\)\\+OR\\+\\(ean_string\\:Комфорт\\*\\^50.0\\)\\+OR\\+\\(name_text_ru\\:Комфорт\\*\\^260.0\\)\\)\\+OR\\+\\(\\(entitlements_text_ru_mv\\:\\\"Комфорт\\\"\\^45.0\\)\\+OR\\+\\(keywords_text_ru\\:\\\"Комфорт\\\"\\^90.0\\)\\+OR\\+\\(manufacturerName_text\\:\\\"Комфорт\\\"\\^80.0\\)\\+OR\\+\\(categoryName_text_ru_mv\\:\\\"Комфорт\\\"\\^50.0\\)\\+OR\\+\\(plpKillerFeature_ru_string\\:\\\"Комфорт\\\"\\^70.0\\)\\+OR\\+\\(productBubblesDescription_ru_string_mv\\:\\\"Комфорт\\\"\\^60.0\\)\\+OR\\+\\(pdpKillerFeature_ru_string\\:\\\"Комфорт\\\"\\^80.0\\)\\+OR\\+\\(name_text_ru\\:\\\"Комфорт\\\"\\^100.0\\)\\+OR\\+\\(usageCharges_text_ru_mv\\:\\\"Комфорт\\\"\\^40.0\\)\\)\"&q={!boost}(%2B{!lucene+v%3D$yq})&fq=b2c_boolean:true&fq=(catalogId:\"velcomProductCatalog\"+AND+catalogVersion:\"Online\")&sort=score+desc,inStockFlag_boolean+desc,marketingWeight_int+desc,score+desc&start=0&rows=12&facet.field=rootCat_string&facet.field=categoryPath_string_mv&facet.field=allCategories_string_mv&facet.field=recurringPrices_byn_string&facet.field=storage_string_mv&facet.field=bubbles_string_mv&facet.field=category_string_mv&facet.field=brand_string_mv&facet.field=devicePrices_byn_string&facet=true&facet.sort=count&facet.mincount=1&facet.limit=50&fl=score,*&spellcheck=true&spellcheck.q=Комфорт&spellcheck.dictionary=ru&spellcheck.collate=true";
        String decodedString = URLDecoder.decode(stringToDecode, "UTF-8");

        System.out.println(decodedString);
    }



}
